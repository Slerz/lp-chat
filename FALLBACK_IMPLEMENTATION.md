# Fallback –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —á–∞—Ç-–±–æ—Ç–∞ –®–µ—Ñ–ü–æ—Ä—Ç

## –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —á–∞—Ç-–±–æ—Ç —Å AI —Ä–µ–∂–∏–º–∞ (ChatGPT) –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä–∞–º.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```javascript
let isScenarioMode = false; // –§–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã
```

### 2. –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤
```javascript
function switchToScenarioMode() {
  if (isScenarioMode) return;
  
  isScenarioMode = true;
  showModeIndicator();
  
  appendMessage({ 
    text: 'ü§ñ –ü–µ—Ä–µ–∫–ª—é—á–∏–ª—Å—è –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º...', 
    isUser: false 
  });
  
  setTimeout(() => {
    processChatState("start");
  }, 1500);
}
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ sendMessageToAI
```javascript
// –ü—Ä–∏ –æ—à–∏–±–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
} catch (e) {
  console.log('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å AI —Å–µ—Ä–≤–µ—Ä–æ–º, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º:', e);
  appendMessage({ text: '–ü–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º...', isUser: false });
  hideTypingIndicator();
  switchToScenarioMode();
  
  // –ü–æ–≤—Ç–æ—Ä–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Å—Ü–µ–Ω–∞—Ä–Ω–æ–º —Ä–µ–∂–∏–º–µ
  setTimeout(() => {
    handleScenarioModeMessage(userMessage);
  }, 1000);
}
```

### 4. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å—Ü–µ–Ω–∞—Ä–Ω–æ–º —Ä–µ–∂–∏–º–µ
```javascript
function handleScenarioModeMessage(userMessage) {
  const message = userMessage.toLowerCase();
  
  // –í–æ–∑–≤—Ä–∞—Ç –∫ AI —Ä–µ–∂–∏–º—É
  if (message.includes('ai') || message.includes('chatgpt')) {
    appendMessage({ text: '–ü–æ–ø—Ä–æ–±—É—é —Å–Ω–æ–≤–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ AI —Å–µ—Ä–≤–µ—Ä—É...', isUser: false });
    setTimeout(() => {
      sendMessageToAI("__INIT__");
    }, 1000);
    return;
  }
  
  // –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
  if (message.includes('–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏') || message.includes('–¥–µ–Ω—å–≥–∏')) {
    processChatState("investments");
  } else if (message.includes('–ø—Ä–∏–±—ã–ª—å') || message.includes('–∑–∞—Ä–∞–±–æ—Ç–æ–∫')) {
    processChatState("profit");
  }
  // ... –¥—Ä—É–≥–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
}
```

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### 1. HTML –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞
```html
<div class="chat__mode-indicator" id="modeIndicator" style="display: none;">
  <span class="mode-indicator__text">–°—Ü–µ–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º</span>
</div>
```

### 2. CSS —Å—Ç–∏–ª–∏
```css
.chat__mode-indicator {
  position: absolute;
  top: -25px;
  left: 50%;
  transform: translateX(-50%);
  background: #ff6b35;
  color: white;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 10px;
  animation: fadeInMode 0.3s ease-in;
}
```

### 3. JavaScript —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```javascript
function showModeIndicator() {
  const modeIndicator = document.getElementById('modeIndicator');
  if (modeIndicator) {
    modeIndicator.style.display = 'block';
  }
}

function hideModeIndicator() {
  const modeIndicator = document.getElementById('modeIndicator');
  if (modeIndicator) {
    modeIndicator.style.display = 'none';
  }
}
```

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (AI)
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å ChatGPT
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞ —Å–∫—Ä—ã—Ç
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ `/chat` endpoint

### 2. –ü—Ä–∏ –æ—à–∏–±–∫–µ ChatGPT
- –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –≤ `sendMessageToAI`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `switchToScenarioMode()`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–°—Ü–µ–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º"
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞—á–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### 3. –°—Ü–µ–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–º —Å—Ü–µ–Ω–∞—Ä–∏—è–º
- –°–æ–æ–±—â–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ AI —Ä–µ–∂–∏–º—É, –Ω–∞–ø–∏—Å–∞–≤ "AI" –∏–ª–∏ "ChatGPT"

### 4. –í–æ–∑–≤—Ä–∞—Ç –∫ AI —Ä–µ–∂–∏–º—É
- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ—Ç–≤–µ—Ç–µ –æ—Ç ChatGPT –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- –ü—Ä–∏ —Ä—É—á–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û—Ç–∫—Ä–æ–π—Ç–µ `test-fallback.html` –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏

### 2. –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç-–±–æ—Ç (`index.html`)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
3. –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ChatGPT –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
4. –í —Å—Ü–µ–Ω–∞—Ä–Ω–æ–º —Ä–µ–∂–∏–º–µ –Ω–∞–ø–∏—à–∏—Ç–µ "AI" –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ —Å—Ü–µ–Ω–∞—Ä–∏–π
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –∏—Å—á–µ–∑–∞—Ç—å –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –∫ AI —Ä–µ–∂–∏–º—É
- –°–æ–æ–±—â–µ–Ω–∏—è –æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ß–∞—Ç-–±–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ChatGPT
2. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, –≤ –∫–∞–∫–æ–º —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç
3. **–ì–∏–±–∫–æ—Å—Ç—å**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ AI —Ä–µ–∂–∏–º—É –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
4. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å**: –£–º–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
5. **UX**: –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ ChatGPT –¥–ª—è offline —Ä–∞–±–æ—Ç—ã
2. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±—Ä–∞—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º 